"use strict";(self["webpackChunkexamen_frontend"]=self["webpackChunkexamen_frontend"]||[]).push([[288],{288:function(t,o,e){e.r(o),e.d(o,{default:function(){return N}});var r=e(6768),l=e(5130),s=e(4232);const n=t=>((0,r.Qi)("data-v-8227ed0c"),t=t(),(0,r.jt)(),t),i={class:"container mt-4"},a=n((()=>(0,r.Lk)("h1",{class:"mb-4 text-center"},"Books",-1))),c={class:"row justify-content-center"},k={class:"col-md-8"},d={class:"mb-3"},b=n((()=>(0,r.Lk)("label",{for:"isbn",class:"form-label"},"ISBN",-1))),u={class:"mb-3"},h=n((()=>(0,r.Lk)("label",{for:"title",class:"form-label"},"Title",-1))),L={class:"mb-3"},m=n((()=>(0,r.Lk)("label",{for:"price",class:"form-label"},"Price",-1))),p={class:"mb-3"},f=n((()=>(0,r.Lk)("label",{for:"authorId",class:"form-label"},"Author ID",-1))),v={type:"submit",class:"btn btn-primary w-100"},y={class:"row mt-4 justify-content-center"},w={class:"col-md-12"},B=n((()=>(0,r.Lk)("h2",{class:"text-center"},"Book List",-1))),E={class:"table-container border rounded"},g={class:"table table-striped"},I=n((()=>(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Title"),(0,r.Lk)("th",null,"ISBN"),(0,r.Lk)("th",null,"Price"),(0,r.Lk)("th",null,"Author"),(0,r.Lk)("th",null,"Actions")])],-1))),C=["onClick"],_=["onClick"];function A(t,o,e,n,A,$){return(0,r.uX)(),(0,r.CE)("div",i,[a,(0,r.Lk)("div",c,[(0,r.Lk)("div",k,[(0,r.Lk)("form",{onSubmit:o[4]||(o[4]=(0,l.D$)(((...t)=>$.saveBook&&$.saveBook(...t)),["prevent"])),class:"border p-4 rounded"},[(0,r.Lk)("div",d,[b,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"isbn","onUpdate:modelValue":o[0]||(o[0]=t=>A.book.isbn=t),class:"form-control",required:""},null,512),[[l.Jo,A.book.isbn]])]),(0,r.Lk)("div",u,[h,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"title","onUpdate:modelValue":o[1]||(o[1]=t=>A.book.title=t),class:"form-control",required:""},null,512),[[l.Jo,A.book.title]])]),(0,r.Lk)("div",L,[m,(0,r.bo)((0,r.Lk)("input",{type:"number",id:"price","onUpdate:modelValue":o[2]||(o[2]=t=>A.book.price=t),class:"form-control",step:"0.01",required:""},null,512),[[l.Jo,A.book.price]])]),(0,r.Lk)("div",p,[f,(0,r.bo)((0,r.Lk)("input",{type:"number",id:"authorId","onUpdate:modelValue":o[3]||(o[3]=t=>A.book.authorId=t),class:"form-control",required:""},null,512),[[l.Jo,A.book.authorId]])]),(0,r.Lk)("button",v,(0,s.v_)(A.isEditing?"Update Book":"Create Book"),1)],32)])]),(0,r.Lk)("div",y,[(0,r.Lk)("div",w,[B,(0,r.Lk)("div",E,[(0,r.Lk)("table",g,[I,(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(A.books,(t=>((0,r.uX)(),(0,r.CE)("tr",{key:t.id},[(0,r.Lk)("td",null,(0,s.v_)(t.title),1),(0,r.Lk)("td",null,(0,s.v_)(t.isbn),1),(0,r.Lk)("td",null,"$"+(0,s.v_)(t.price),1),(0,r.Lk)("td",null,(0,s.v_)(t.authorName),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{onClick:o=>$.editBook(t),class:"btn btn-warning btn-sm me-2"}," Edit ",8,C),(0,r.Lk)("button",{onClick:o=>$.deleteBook(t.id),class:"btn btn-danger btn-sm"}," Delete ",8,_)])])))),128))])])])])])])}var $=e(4373);const x="http://40.78.125.177:8080/books",D=async()=>{try{const t=await $.A.get(x);return t.data}catch(t){throw console.error("Error fetching all books:",t),t}},U=async t=>{try{await $.A.post(x,t)}catch(o){throw console.error("Error creating book:",o),o}},q=async(t,o)=>{try{await $.A.put(`${x}/${t}`,o)}catch(e){throw console.error(`Error updating book with ID ${t}:`,e),e}},J=async t=>{try{await $.A.delete(`${x}/${t}`)}catch(o){throw console.error(`Error deleting book with ID ${t}:`,o),o}};var V={data(){return{books:[],book:{id:null,isbn:"",title:"",price:"",authorId:""},isEditing:!1}},methods:{async fetchBooks(){try{this.books=await D()}catch(t){console.error("Error fetching books:",t)}},async saveBook(){try{this.isEditing?await q(this.book.id,this.book):await U(this.book),this.resetForm(),await this.fetchBooks()}catch(t){console.error("Error saving book:",t)}},editBook(t){this.book={...t},this.isEditing=!0},async deleteBook(t){try{await J(t),await this.fetchBooks()}catch(o){console.error("Error deleting book:",o)}},resetForm(){this.book={id:null,isbn:"",title:"",price:"",authorId:""},this.isEditing=!1}},mounted(){this.fetchBooks()}},j=e(1241);const F=(0,j.A)(V,[["render",A],["__scopeId","data-v-8227ed0c"]]);var N=F}}]);
//# sourceMappingURL=288.d7c67a13.js.map