"use strict";(self["webpackChunkexamen_frontend"]=self["webpackChunkexamen_frontend"]||[]).push([[456],{5456:function(t,r,e){e.r(r),e.d(r,{default:function(){return F}});var a=e(6768),s=e(5130),o=e(4232);const i=t=>((0,a.Qi)("data-v-2e05c16d"),t=t(),(0,a.jt)(),t),n={class:"container mt-4"},c=i((()=>(0,a.Lk)("h1",{class:"mb-4 text-center"},"Authors",-1))),l={class:"row justify-content-center"},u={class:"col-md-8"},h={class:"mb-3"},d=i((()=>(0,a.Lk)("label",{for:"firstName",class:"form-label"},"First Name",-1))),m={class:"mb-3"},f=i((()=>(0,a.Lk)("label",{for:"lastName",class:"form-label"},"Last Name",-1))),k={type:"submit",class:"btn btn-primary w-100"},b={class:"row mt-4 justify-content-center"},v={class:"col-md-8"},w=i((()=>(0,a.Lk)("h2",{class:"text-center"},"Author List",-1))),p={class:"list-group"},y=["onClick"],A=["onClick"];function L(t,r,e,i,L,g){return(0,a.uX)(),(0,a.CE)("div",n,[c,(0,a.Lk)("div",l,[(0,a.Lk)("div",u,[(0,a.Lk)("form",{onSubmit:r[2]||(r[2]=(0,s.D$)(((...t)=>g.saveAuthor&&g.saveAuthor(...t)),["prevent"])),class:"border p-4 rounded"},[(0,a.Lk)("div",h,[d,(0,a.bo)((0,a.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":r[0]||(r[0]=t=>L.author.firstName=t),class:"form-control",required:""},null,512),[[s.Jo,L.author.firstName]])]),(0,a.Lk)("div",m,[f,(0,a.bo)((0,a.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":r[1]||(r[1]=t=>L.author.lastName=t),class:"form-control",required:""},null,512),[[s.Jo,L.author.lastName]])]),(0,a.Lk)("button",k,(0,o.v_)(L.isEditing?"Update Author":"Create Author"),1)],32)])]),(0,a.Lk)("div",b,[(0,a.Lk)("div",v,[w,(0,a.Lk)("ul",p,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(L.authors,(t=>((0,a.uX)(),(0,a.CE)("li",{key:t.id,class:"list-group-item d-flex justify-content-between align-items-center"},[(0,a.eW)((0,o.v_)(t.id)+" "+(0,o.v_)(t.firstName)+" "+(0,o.v_)(t.lastName)+" ",1),(0,a.Lk)("div",null,[(0,a.Lk)("button",{onClick:r=>g.editAuthor(t),class:"btn btn-warning btn-sm me-2"}," Edit ",8,y),(0,a.Lk)("button",{onClick:r=>g.deleteAuthor(t.id),class:"btn btn-danger btn-sm"}," Delete ",8,A)])])))),128))])])])])}var g=e(4373);const E="http://13.64.151.24:8080/authors",N=async()=>{try{const t=await g.A.get(E);return t.data}catch(t){throw console.error("Error fetching all authors:",t),t}},C=async t=>{try{await g.A.post(E,t)}catch(r){throw console.error("Error creating author:",r),r}},_=async(t,r)=>{try{await g.A.put(`${E}/${t}`,r)}catch(e){throw console.error(`Error updating author with ID ${t}:`,e),e}},x=async t=>{try{await g.A.delete(`${E}/${t}`)}catch(r){throw console.error(`Error deleting author with ID ${t}:`,r),r}};var $={data(){return{authors:[],author:{id:null,firstName:"",lastName:""},isEditing:!1}},methods:{async fetchAuthors(){try{this.authors=await N()}catch(t){console.error("Error fetching authors:",t)}},async saveAuthor(){try{this.isEditing?await _(this.author.id,this.author):await C(this.author),this.resetForm(),await this.fetchAuthors()}catch(t){console.error("Error saving author:",t)}},editAuthor(t){this.author={...t},this.isEditing=!0},async deleteAuthor(t){try{await x(t),await this.fetchAuthors()}catch(r){console.error("Error deleting author:",r)}},resetForm(){this.author={id:null,firstName:"",lastName:""},this.isEditing=!1}},mounted(){this.fetchAuthors()}},j=e(1241);const D=(0,j.A)($,[["render",L],["__scopeId","data-v-2e05c16d"]]);var F=D}}]);
//# sourceMappingURL=456.2f3bd990.js.map